import type { Product, BatchInfo, AnalysisResults } from '@/types/product.types'

// Массив изображений для циклического использования
const productImages: string[] = [
  new URL('../../assets/vedro1.png', import.meta.url).href,
  new URL('../../assets/vedra2.png', import.meta.url).href,
  new URL('../../assets/vedra3.png', import.meta.url).href,
]

// Функция для безопасного получения изображения по индексу
const getProductImage = (index: number): string => {
  return productImages[index % productImages.length]!
}

// RAL цвета с их HEX значениями
const RAL_COLORS: Record<string, string> = {
  '1013': '#EAE6CA',
  '1014': '#E1CC4F',
  '1015': '#E6D690',
  '1018': '#F8F32B',
  '1021': '#F3DA0B',
  '2002': '#C63927',
  '2004': '#E25303',
  '3005': '#5E2129',
  '3009': '#703731',
  '3011': '#781F19',
  '3020': '#CC0605',
  '3028': '#CB3334',
  '4010': '#CF3476',
  '5002': '#20214F',
  '5005': '#1E2460',
  '5008': '#26252D',
  '5013': '#1E213D',
  '5015': '#2271B3',
  '5021': '#256D7B',
  '5024': '#5D9B9B',
  '6002': '#2D572C',
  '6005': '#1F4037',
  '6018': '#57A639',
  '7004': '#969992',
  '7005': '#646B63',
  '7015': '#434B4D',
  '7016': '#293133',
  '7021': '#23282B',
  '7022': '#332F2C',
  '7024': '#474A51',
  '7035': '#D7D7D7',
  '7036': '#7F7679',
  '7037': '#7D7F7D',
  '7040': '#9DA1AA',
  '7045': '#909090',
  '7047': '#D0D0D0',
  '8003': '#734222',
  '8004': '#8E402A',
  '8017': '#45322E',
  '8019': '#403A3A',
  '9001': '#FDF4E3',
  '9002': '#E7EBDA',
  '9003': '#F4F4F4',
  '9005': '#0A0A0A',
  '9006': '#A5A5A5',
  '9010': '#FFFFFF',
  '9016': '#F6F6F6',
  '9017': '#1C1C1C',
}

// Генератор товаров на основе данных из Remains.xlsx
export const mockProducts: Product[] = [
  // ЛПЭЭ (Лакокрасочное покрытие эпоксидно-эфирное)
  {
    id: 'prod-001',
    name: 'ЛПЭЭ RAL 1015 CHAIKA',
    nomenclatureName: 'Лакокрасочное покрытие эпоксидно-эфирное RAL 1015',
    ralColor: 'RAL 1015',
    ralColorHex: RAL_COLORS['1015'] || '#E6D690',
    image: getProductImage(0),
    price: 850,
    stock: 183,
    isInStock: true,
    isPromotion: false,
    category: 'ЛПЭЭ',
    description: 'Лакокрасочное покрытие эпоксидно-эфирное светлая слоновая кость',
    batchInfo: {
      batchNumber: '42343',
      productionDate: '2025-06-30',
      expiryDate: '2025-12-30',
    },
  },
  {
    id: 'prod-002',
    name: 'ЛПЭЭ RAL 6005 CHAIKA',
    nomenclatureName: 'Лакокрасочное покрытие эпоксидно-эфирное RAL 6005',
    ralColor: 'RAL 6005',
    ralColorHex: RAL_COLORS['6005'] || '#1F4037',
    image: getProductImage(1),
    price: 850,
    stock: 170,
    isInStock: true,
    isPromotion: false,
    category: 'ЛПЭЭ',
    description: 'Лакокрасочное покрытие эпоксидно-эфирное зеленый мох',
    batchInfo: {
      batchNumber: '43720',
      productionDate: '2025-08-28',
      expiryDate: '2026-02-28',
    },
  },
  {
    id: 'prod-003',
    name: 'ЛПЭЭ RAL 7004 CHAIKA',
    nomenclatureName: 'Лакокрасочное покрытие эпоксидно-эфирное RAL 7004',
    ralColor: 'RAL 7004',
    ralColorHex: RAL_COLORS['7004'] || '#969992',
    image: getProductImage(2),
    price: 850,
    stock: 19228,
    isInStock: true,
    isPromotion: true,
    category: 'ЛПЭЭ',
    description: 'Лакокрасочное покрытие эпоксидно-эфирное сигнальный серый',
    batchInfo: {
      batchNumber: '45012',
      productionDate: '2025-10-21',
      expiryDate: '2026-04-21',
    },
  },
  {
    id: 'prod-004',
    name: 'ЛПЭЭ RAL 7024 CHAIKA',
    nomenclatureName: 'Лакокрасочное покрытие эпоксидно-эфирное RAL 7024',
    ralColor: 'RAL 7024',
    ralColorHex: RAL_COLORS['7024'] || '#474A51',
    image: getProductImage(0),
    price: 850,
    stock: 3606,
    isInStock: true,
    isPromotion: false,
    category: 'ЛПЭЭ',
    description: 'Лакокрасочное покрытие эпоксидно-эфирное графитовый серый',
    batchInfo: {
      batchNumber: '45267',
      productionDate: '2025-11-05',
      expiryDate: '2026-05-05',
    },
  },
  {
    id: 'prod-005',
    name: 'ЛПЭЭ RAL 8017 CHAIKA',
    nomenclatureName: 'Лакокрасочное покрытие эпоксидно-эфирное RAL 8017',
    ralColor: 'RAL 8017',
    ralColorHex: RAL_COLORS['8017'] || '#45322E',
    image: getProductImage(1),
    price: 850,
    stock: 33970,
    isInStock: true,
    isPromotion: true,
    category: 'ЛПЭЭ',
    description: 'Лакокрасочное покрытие эпоксидно-эфирное шоколадно-коричневый',
    batchInfo: {
      batchNumber: '45335',
      productionDate: '2025-11-05',
      expiryDate: '2026-05-05',
    },
  },
  {
    id: 'prod-006',
    name: 'ЛПЭЭ RAL 9003 CHAIKA',
    nomenclatureName: 'Лакокрасочное покрытие эпоксидно-эфирное RAL 9003',
    ralColor: 'RAL 9003',
    ralColorHex: RAL_COLORS['9003'] || '#F4F4F4',
    image: getProductImage(2),
    price: 850,
    stock: 11610,
    isInStock: true,
    isPromotion: false,
    category: 'ЛПЭЭ',
    description: 'Лакокрасочное покрытие эпоксидно-эфирное сигнальный белый',
    batchInfo: {
      batchNumber: '45236',
      productionDate: '2025-10-31',
      expiryDate: '2026-04-30',
    },
  },

  // ПЭФ (Полиэфирная эмаль)
  {
    id: 'prod-007',
    name: 'ПЭФ THERM 1363 PART A',
    nomenclatureName: 'Полиуретановая эмаль термостойкая часть A',
    ralColor: 'Прозрачный',
    ralColorHex: '#FFFFFF',
    image: getProductImage(0),
    price: 1200,
    stock: 29861,
    isInStock: true,
    isPromotion: true,
    category: 'ПЭФ',
    description: 'Полиуретановая термостойкая эмаль, часть A (основа)',
    batchInfo: {
      batchNumber: '45338',
      productionDate: '2025-11-05',
      expiryDate: '2026-11-05',
    },
    estimatedDelivery: 'В наличии',
  },
  {
    id: 'prod-008',
    name: 'ПЭФ THERM 1363 PART B',
    nomenclatureName: 'Полиуретановая эмаль термостойкая часть B',
    ralColor: 'Прозрачный',
    ralColorHex: '#FFFFFF',
    image: getProductImage(1),
    price: 800,
    stock: 23652,
    isInStock: true,
    isPromotion: true,
    category: 'ПЭФ',
    description: 'Полиуретановая термостойкая эмаль, часть B (отвердитель)',
    batchInfo: {
      batchNumber: '45336',
      productionDate: '2025-11-05',
      expiryDate: '2026-10-05',
    },
    estimatedDelivery: 'В наличии',
  },
  {
    id: 'prod-009',
    name: 'ПЭФ GUARD 7600 PART A GREY',
    nomenclatureName: 'Полиэфирная эмаль GUARD 7600 серая часть A',
    ralColor: 'Серый',
    ralColorHex: '#808080',
    image: getProductImage(2),
    price: 1350,
    stock: 7590,
    isInStock: true,
    isPromotion: false,
    category: 'ПЭФ',
    description: 'Полиэфирная защитная эмаль GUARD 7600, серый цвет',
    batchInfo: {
      batchNumber: '45126',
      productionDate: '2025-10-29',
      expiryDate: '2027-10-29',
    },
  },
  {
    id: 'prod-010',
    name: 'ПЭФ GUARD 7600 PART A RED',
    nomenclatureName: 'Полиэфирная эмаль GUARD 7600 красная часть A',
    ralColor: 'Красный',
    ralColorHex: '#CC0000',
    image: getProductImage(0),
    price: 1350,
    stock: 5925,
    isInStock: true,
    isPromotion: false,
    category: 'ПЭФ',
    description: 'Полиэфирная защитная эмаль GUARD 7600, красный цвет',
    batchInfo: {
      batchNumber: '45327',
      productionDate: '2025-11-05',
      expiryDate: '2027-11-05',
    },
  },

  // ЭП (Эмаль полиэфирная)
  {
    id: 'prod-011',
    name: 'ЭП RAL 1014',
    nomenclatureName: 'Эмаль полиэфирная RAL 1014',
    ralColor: 'RAL 1014',
    ralColorHex: RAL_COLORS['1014'] || '#E1CC4F',
    image: getProductImage(1),
    price: 780,
    stock: 5741,
    isInStock: true,
    isPromotion: false,
    category: 'ЭП',
    description: 'Эмаль полиэфирная слоновая кость',
    batchInfo: {
      batchNumber: '45140',
      productionDate: '2025-10-27',
      expiryDate: '2026-04-27',
    },
  },
  {
    id: 'prod-012',
    name: 'ЭП RAL 1015',
    nomenclatureName: 'Эмаль полиэфирная RAL 1015',
    ralColor: 'RAL 1015',
    ralColorHex: RAL_COLORS['1015'] || '#E6D690',
    image: getProductImage(2),
    price: 780,
    stock: 12833,
    isInStock: true,
    isPromotion: false,
    category: 'ЭП',
    description: 'Эмаль полиэфирная светлая слоновая кость',
    batchInfo: {
      batchNumber: '45260',
      productionDate: '2025-10-31',
      expiryDate: '2026-04-30',
    },
  },
  {
    id: 'prod-013',
    name: 'ЭП RAL 3005',
    nomenclatureName: 'Эмаль полиэфирная RAL 3005',
    ralColor: 'RAL 3005',
    ralColorHex: RAL_COLORS['3005'] || '#5E2129',
    image: getProductImage(0),
    price: 780,
    stock: 41896,
    isInStock: true,
    isPromotion: true,
    category: 'ЭП',
    description: 'Эмаль полиэфирная винно-красный',
    batchInfo: {
      batchNumber: '45166',
      productionDate: '2025-10-24',
      expiryDate: '2026-04-24',
    },
    analysisResults: {
      quality: 'Соответствует ГОСТ',
      composition: {
        'Блеск при 60°': '35-45%',
        'Твердость': 'H',
        'Адгезия': '1 балл',
      },
      certificates: ['Сертификат качества №12345', 'Паспорт безопасности'],
    },
  },
  {
    id: 'prod-014',
    name: 'ЭП RAL 6005',
    nomenclatureName: 'Эмаль полиэфирная RAL 6005',
    ralColor: 'RAL 6005',
    ralColorHex: RAL_COLORS['6005'] || '#1F4037',
    image: getProductImage(1),
    price: 780,
    stock: 43635,
    isInStock: true,
    isPromotion: true,
    category: 'ЭП',
    description: 'Эмаль полиэфирная зеленый мох',
    batchInfo: {
      batchNumber: '45178',
      productionDate: '2025-10-28',
      expiryDate: '2026-04-28',
    },
  },
  {
    id: 'prod-015',
    name: 'ЭП RAL 7004',
    nomenclatureName: 'Эмаль полиэфирная RAL 7004',
    ralColor: 'RAL 7004',
    ralColorHex: RAL_COLORS['7004'] || '#969992',
    image: getProductImage(2),
    price: 780,
    stock: 33458,
    isInStock: true,
    isPromotion: true,
    category: 'ЭП',
    description: 'Эмаль полиэфирная сигнальный серый',
    batchInfo: {
      batchNumber: '45316',
      productionDate: '2025-11-05',
      expiryDate: '2026-05-05',
    },
  },
  {
    id: 'prod-016',
    name: 'ЭП RAL 7024',
    nomenclatureName: 'Эмаль полиэфирная RAL 7024',
    ralColor: 'RAL 7024',
    ralColorHex: RAL_COLORS['7024'] || '#474A51',
    image: getProductImage(0),
    price: 780,
    stock: 112709,
    isInStock: true,
    isPromotion: true,
    category: 'ЭП',
    description: 'Эмаль полиэфирная графитовый серый',
    batchInfo: {
      batchNumber: '45250',
      productionDate: '2025-10-31',
      expiryDate: '2026-04-30',
    },
  },
  {
    id: 'prod-017',
    name: 'ЭП RAL 8017',
    nomenclatureName: 'Эмаль полиэфирная RAL 8017',
    ralColor: 'RAL 8017',
    ralColorHex: RAL_COLORS['8017'] || '#45322E',
    image: getProductImage(1),
    price: 780,
    stock: 181213,
    isInStock: true,
    isPromotion: true,
    category: 'ЭП',
    description: 'Эмаль полиэфирная шоколадно-коричневый',
    batchInfo: {
      batchNumber: '45300',
      productionDate: '2025-11-05',
      expiryDate: '2026-05-05',
    },
  },
  {
    id: 'prod-018',
    name: 'ЭП RAL 9003',
    nomenclatureName: 'Эмаль полиэфирная RAL 9003',
    ralColor: 'RAL 9003',
    ralColorHex: RAL_COLORS['9003'] || '#F4F4F4',
    image: getProductImage(2),
    price: 780,
    stock: 124928,
    isInStock: true,
    isPromotion: true,
    category: 'ЭП',
    description: 'Эмаль полиэфирная сигнальный белый',
    batchInfo: {
      batchNumber: '45297',
      productionDate: '2025-11-01',
      expiryDate: '2026-05-01',
    },
  },

  // ЭПС (Эмаль полиэфирная сморщенная)
  {
    id: 'prod-019',
    name: 'ЭПС RAL 7024 ПОРТЕР',
    nomenclatureName: 'Эмаль полиэфирная сморщенная RAL 7024 ПОРТЕР',
    ralColor: 'RAL 7024',
    ralColorHex: RAL_COLORS['7024'] || '#474A51',
    image: getProductImage(0),
    price: 820,
    stock: 46598,
    isInStock: true,
    isPromotion: true,
    category: 'ЭПС',
    description: 'Эмаль полиэфирная сморщенная графитовый серый ПОРТЕР',
    batchInfo: {
      batchNumber: '45280',
      productionDate: '2025-11-05',
      expiryDate: '2026-05-05',
    },
  },
  {
    id: 'prod-020',
    name: 'ЭПС RAL 8017 ПОРТЕР',
    nomenclatureName: 'Эмаль полиэфирная сморщенная RAL 8017 ПОРТЕР',
    ralColor: 'RAL 8017',
    ralColorHex: RAL_COLORS['8017'] || '#45322E',
    image: getProductImage(1),
    price: 820,
    stock: 22002,
    isInStock: true,
    isPromotion: true,
    category: 'ЭПС',
    description: 'Эмаль полиэфирная сморщенная шоколадно-коричневый ПОРТЕР',
    batchInfo: {
      batchNumber: '44991',
      productionDate: '2025-10-23',
      expiryDate: '2026-04-23',
    },
  },
  {
    id: 'prod-021',
    name: 'ЭПС RAL 9005 ПОРТЕР',
    nomenclatureName: 'Эмаль полиэфирная сморщенная RAL 9005 ПОРТЕР',
    ralColor: 'RAL 9005',
    ralColorHex: RAL_COLORS['9005'] || '#0A0A0A',
    image: getProductImage(2),
    price: 820,
    stock: 13237,
    isInStock: true,
    isPromotion: false,
    category: 'ЭПС',
    description: 'Эмаль полиэфирная сморщенная черный ПОРТЕР',
    batchInfo: {
      batchNumber: '45202',
      productionDate: '2025-10-31',
      expiryDate: '2026-04-30',
    },
  },
]

export const mockProductCategories = [
  'Все категории',
  'ЛПЭЭ',
  'ПЭФ',
  'ЭП',
  'ЭПС',
  'ЭПТ',
  'ПВДФ',
]

export const getMockProductById = (id: string): Product | undefined => {
  return mockProducts.find((p) => p.id === id)
}

export const getMockProductsByCategory = (category: string): Product[] => {
  if (category === 'Все категории') return mockProducts
  return mockProducts.filter((p) => p.category === category)
}

export const getMockProductsInStock = (): Product[] => {
  return mockProducts.filter((p) => p.isInStock && p.stock > 0)
}

export const getMockProductsOnPromotion = (): Product[] => {
  return mockProducts.filter((p) => p.isPromotion)
}
